{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useLocalStorage } from 'react-use';\n\nfunction useGlobalProvider() {\n  _s();\n\n  const [clientes, setClientes] = useState([]);\n  const [abrirModalAddCliente, setAbrirModalAddCliente] = useState(false);\n  const [abrirModalFeedbackAddCliente, setAbrirModalFeedbackAddCliente] = useState(false);\n  const [token, setToken, removeToken] = useLocalStorage('token', '');\n\n  async function handleAdicionarCliente(body) {\n    try {\n      const response = await fetch('https://desafio-modulo-5.herokuapp.com/clientes', {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      });\n      const data = await response.json();\n      console.log(data);\n      handleCarregarClientes();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function handleCarregarClientes() {\n    try {\n      const response = await fetch('https://desafio-modulo-5.herokuapp.com/clientes', {\n        method: 'GET',\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      setClientes(data);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function handleObeterUsuario() {\n    try {\n      const response = await fetch('https://desafio-modulo-5.herokuapp.com/perfil', {\n        method: 'GET',\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async function handleEditarUsuario(body) {\n    try {\n      const response = await fetch('https://desafio-modulo-5.herokuapp.com/perfil', {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${token}`\n        },\n        body: JSON.stringify(body)\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  return {\n    handleAdicionarCliente,\n    handleCarregarClientes,\n    clientes,\n    token,\n    setToken,\n    removeToken,\n    abrirModalAddCliente,\n    setAbrirModalAddCliente,\n    abrirModalFeedbackAddCliente,\n    setAbrirModalFeedbackAddCliente,\n    handleObeterUsuario,\n    handleEditarUsuario\n  };\n}\n\n_s(useGlobalProvider, \"REAgp7ZWXNYb0hUmxyCKwRatvls=\", false, function () {\n  return [useLocalStorage];\n});\n\nexport default useGlobalProvider;","map":{"version":3,"sources":["/Users/raphaelsouzadeoliveira/Projetos/cubos/front-integral-m05-desafio-t04/front-desafio-final/src/hooks/useGlobalProvider.js"],"names":["useState","useLocalStorage","useGlobalProvider","clientes","setClientes","abrirModalAddCliente","setAbrirModalAddCliente","abrirModalFeedbackAddCliente","setAbrirModalFeedbackAddCliente","token","setToken","removeToken","handleAdicionarCliente","body","response","fetch","method","headers","JSON","stringify","data","json","console","log","handleCarregarClientes","error","handleObeterUsuario","handleEditarUsuario"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,eAAT,QAAgC,WAAhC;;AAEA,SAASC,iBAAT,GAA6B;AAAA;;AACzB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACK,oBAAD,EAAuBC,uBAAvB,IAAkDN,QAAQ,CAAC,KAAD,CAAhE;AACA,QAAM,CAACO,4BAAD,EAA+BC,+BAA/B,IAAkER,QAAQ,CAAC,KAAD,CAAhF;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,EAAkBC,WAAlB,IAAiCV,eAAe,CAAC,OAAD,EAAU,EAAV,CAAtD;;AAGA,iBAAeW,sBAAf,CAAsCC,IAAtC,EAA4C;AAExC,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iDAAD,EAAoD;AAC5EC,QAAAA,MAAM,EAAE,MADoE;AAE5EC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,2BAAkB,UAASR,KAAM;AAF5B,SAFmE;AAM5EI,QAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf;AANsE,OAApD,CAA5B;AASA,YAAMO,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAnB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAI,MAAAA,sBAAsB;AACzB,KAbD,CAaE,OAAOC,KAAP,EAAc;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH;AACJ;;AAED,iBAAeD,sBAAf,GAAwC;AACpC,QAAI;AAEA,YAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,iDAAD,EAAoD;AAC5EC,QAAAA,MAAM,EAAE,KADoE;AAE5EC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASR,KAAM;AAD5B;AAFmE,OAApD,CAA5B;AAOA,YAAMW,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAnB;AAEAjB,MAAAA,WAAW,CAACgB,IAAD,CAAX;AACH,KAZD,CAYE,OAAOK,KAAP,EAAc;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH;AACJ;;AAED,iBAAeC,mBAAf,GAAqC;AACjC,QAAI;AACA,YAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,+CAAD,EAAkD;AAC1EC,QAAAA,MAAM,EAAE,KADkE;AAE1EC,QAAAA,OAAO,EAAE;AACL,2BAAkB,UAASR,KAAM;AAD5B;AAFiE,OAAlD,CAA5B;AAOA,YAAMW,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAnB;AAEA,aAAOD,IAAP;AAEH,KAZD,CAYE,OAAOK,KAAP,EAAc;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH;AACJ;;AAED,iBAAeE,mBAAf,CAAmCd,IAAnC,EAAyC;AACrC,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,+CAAD,EAAkD;AAC1EC,QAAAA,MAAM,EAAE,KADkE;AAE1EC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,2BAAkB,UAASR,KAAM;AAF5B,SAFiE;AAM1EI,QAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf;AANoE,OAAlD,CAA5B;AAQH,KATD,CASE,OAAOY,KAAP,EAAc;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH;AACJ;;AAID,SAAO;AACHb,IAAAA,sBADG;AAEHY,IAAAA,sBAFG;AAGHrB,IAAAA,QAHG;AAIHM,IAAAA,KAJG;AAKHC,IAAAA,QALG;AAMHC,IAAAA,WANG;AAOHN,IAAAA,oBAPG;AAQHC,IAAAA,uBARG;AASHC,IAAAA,4BATG;AAUHC,IAAAA,+BAVG;AAWHkB,IAAAA,mBAXG;AAYHC,IAAAA;AAZG,GAAP;AAcH;;GA9FQzB,iB;UAIkCD,e;;;AA4F3C,eAAeC,iBAAf","sourcesContent":["import { useState } from 'react';\nimport { useLocalStorage } from 'react-use';\n\nfunction useGlobalProvider() {\n    const [clientes, setClientes] = useState([])\n    const [abrirModalAddCliente, setAbrirModalAddCliente] = useState(false)\n    const [abrirModalFeedbackAddCliente, setAbrirModalFeedbackAddCliente] = useState(false)\n    const [token, setToken, removeToken] = useLocalStorage('token', '')\n\n\n    async function handleAdicionarCliente(body) {\n\n        try {\n            const response = await fetch('https://desafio-modulo-5.herokuapp.com/clientes', {\n                method: 'POST',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`\n                },\n                body: JSON.stringify(body)\n            })\n\n            const data = await response.json()\n            console.log(data)\n            handleCarregarClientes()\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    async function handleCarregarClientes() {\n        try {\n\n            const response = await fetch('https://desafio-modulo-5.herokuapp.com/clientes', {\n                method: 'GET',\n                headers: {\n                    \"Authorization\": `Bearer ${token}`\n                }\n            })\n\n            const data = await response.json()\n\n            setClientes(data)\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    async function handleObeterUsuario() {\n        try {\n            const response = await fetch('https://desafio-modulo-5.herokuapp.com/perfil', {\n                method: 'GET',\n                headers: {\n                    \"Authorization\": `Bearer ${token}`\n                }\n            })\n\n            const data = await response.json()\n\n            return data;\n\n        } catch (error) {\n            console.log(error)\n        }\n    }\n\n    async function handleEditarUsuario(body) {\n        try {\n            const response = await fetch('https://desafio-modulo-5.herokuapp.com/perfil', {\n                method: 'PUT',\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Authorization\": `Bearer ${token}`\n                },\n                body: JSON.stringify(body)\n            });\n        } catch (error) {\n            console.log(error);\n        }\n    }\n\n\n\n    return {\n        handleAdicionarCliente,\n        handleCarregarClientes,\n        clientes,\n        token,\n        setToken,\n        removeToken,\n        abrirModalAddCliente,\n        setAbrirModalAddCliente,\n        abrirModalFeedbackAddCliente,\n        setAbrirModalFeedbackAddCliente,\n        handleObeterUsuario,\n        handleEditarUsuario,\n    }\n}\n\nexport default useGlobalProvider;"]},"metadata":{},"sourceType":"module"}